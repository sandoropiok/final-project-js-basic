const readlineSync = require("readline-sync");
const chalk = require("chalk");

const playNumberGuessingGame = () => {
  // Display the room with an ASCII art representation of the left door
  let doorArt = `
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                                                   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â•”â•¦â•—â”¬ â”¬â”¬â”Œâ”€â”  â”Œâ”¬â”â”Œâ”€â”â”Œâ”€â”â”¬â”€â”  â”¬ â”¬â”¬â”¬  â”¬    â”Œâ”€â”â”Œâ”â”Œâ”¬ â”¬ â”¬  â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”Œâ”â”Œ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â•‘ â”œâ”€â”¤â”‚â””â”€â”   â”‚â”‚â”‚ â”‚â”‚ â”‚â”œâ”¬â”˜  â”‚â”‚â”‚â”‚â”‚  â”‚    â”‚ â”‚â”‚â”‚â”‚â”‚ â””â”¬â”˜  â”‚ â”‚â”œâ”€â”˜â”œâ”¤ â”‚â”‚â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â•© â”´ â”´â”´â””â”€â”˜  â”€â”´â”˜â””â”€â”˜â””â”€â”˜â”´â””â”€  â””â”´â”˜â”´â”´â”€â”˜â”´â”€â”˜  â””â”€â”˜â”˜â””â”˜â”´â”€â”˜â”´   â””â”€â”˜â”´  â””â”€â”˜â”˜â””â”˜   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                                                   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”¬â”Œâ”€â”  â”¬ â”¬â”Œâ”€â”â”¬ â”¬  â”Œâ”€â”â”¬ â”¬â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”  â”Œâ”¬â”â”¬ â”¬â”Œâ”€â”  â”Œâ”â”Œâ”¬ â”¬â”Œâ”¬â”â”Œâ” â”Œâ”€â”â”¬â”€â”  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚â”œâ”¤   â””â”¬â”˜â”‚ â”‚â”‚ â”‚  â”‚ â”¬â”‚ â”‚â”œâ”¤ â””â”€â”â””â”€â”   â”‚ â”œâ”€â”¤â”œâ”¤   â”‚â”‚â”‚â”‚ â”‚â”‚â”‚â”‚â”œâ”´â”â”œâ”¤ â”œâ”¬â”˜  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”´â””     â”´ â””â”€â”˜â””â”€â”˜  â””â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”˜   â”´ â”´ â”´â””â”€â”˜  â”˜â””â”˜â””â”€â”˜â”´ â”´â””â”€â”˜â””â”€â”˜â”´â””â”€o â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                                                   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|      
      |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|
  `;

  console.log(chalk.greenBright(doorArt)); // Displaying the door art in bright green
  console.log(
    chalk.blueBright(
      "      á¶á‘Œá•®âŸ†âŸ† Æ¬á•¼á•® Æá‘Œâ²˜á—·á•®á–‡ á—·á•®Æ¬á—¯á•®á•®Æ 1 á—©Æâ† 10, áƒ„ã€‡á‘Œ á•¼á—©â‹á•® 3 á—©Æ¬Æ¬á•®â²˜á–˜âŸ†."
    )
  );

  const targetNumber = Math.floor(Math.random() * 10) + 1; // Generate a random number between 1 and 10
  let attempts = 0; // Initialize attempts counter
  let guessedCorrectly = false; // Initialize guessedCorrectly flag to check if user guessed correctly

  // Main game loop: continues until user guesses correctly or runs out of attempts
  while (!guessedCorrectly && attempts < 3) {
    const guess = readlineSync.questionInt(
      chalk.magenta("\n      á•®ÆÆ¬á•®á–‡ áƒ„ã€‡â‹ƒá–‡ á¶á‘Œá•®âŸ†âŸ†: ")
    ); // Prompt user for their guess
    attempts++; // Increment attempts after each guess


    if (guess === targetNumber) {
      // If the user guessed the target number
      console.log(
        chalk.green(`  
            â–’â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–€ â–€â–€â–ˆâ–€â–€ â–ˆ 
            â–’â–ˆâ–‘â–‘â–‘ â–ˆâ–‘â–‘â–ˆ â–ˆâ–„â–„â–€ â–ˆâ–„â–„â–€ â–ˆâ–€â–€ â–ˆâ–‘â–‘ â–‘â–‘â–ˆâ–‘â–‘ â–ˆ 
            â–’â–ˆâ–„â–„â–ˆ â–€â–€â–€â–€ â–€â–‘â–€â–€ â–€â–‘â–€â–€ â–€â–€â–€ â–€â–€â–€ â–‘â–‘â–€â–‘â–‘ â–„
        
      Æ¬á•¼á•® â†ã€‡ã€‡á–‡ â‹ƒÆã—ã€‡á™…ğŒŠâŸ†, á—©Æâ† áƒ„ã€‡â‹ƒ á‘­á–‡ã€‡á‘•á•®á•®â† Æ¬ã€‡ Æ¬á•¼á•® Æá•®â²¬Æ¬ á–‡ã€‡ã€‡â²˜...`)
      );
      guessedCorrectly = true; // Set flag to true indicating the user won
      return true; // Indicate success
    } else if (guess < targetNumber) { 
      // If guess is lower than target
      console.log(chalk.bold.red("\n      Æ¬ã€‡ã€‡ ã—ã€‡á—¯â— Æ¬á–‡á‚¸ á¯É¢á¯â«¯ï¬¡."));
    } else { 
      // If guess is higher than target
      console.log(chalk.bold.red("\n      Æ¬ã€‡ã€‡ á•¼á“®á¶á•¼â— Æ¬á–‡á‚¸ á¯É¢á¯â«¯ï¬¡."));
    }
  }
  // If user failed to guess correctly within 3 attempts
  if (!guessedCorrectly) {
    console.log(
      chalk.redBright(`    
          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
          â–ˆâ–„â”€â–ˆâ–€â–€â–€â–ˆâ”€â–„â–ˆâ–„â”€â–„â–„â–€â–ˆâ”€â–„â–„â”€â–ˆâ–„â”€â–€â–ˆâ–„â”€â–„â–ˆâ”€â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
          â–ˆâ–ˆâ”€â–ˆâ”€â–ˆâ”€â–ˆâ”€â–ˆâ–ˆâ–ˆâ”€â–„â”€â–„â–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–„â–€â”€â–ˆâ–ˆâ”€â–ˆâ–ˆâ–„â”€â–ˆâ–‘â–‘â–ˆâ–ˆ
          â–€â–€â–„â–„â–„â–€â–„â–„â–„â–€â–€â–„â–„â–€â–„â–„â–€â–„â–„â–„â–„â–€â–„â–„â–„â–€â–€â–„â–„â–€â–„â–„â–„â–„â–„â–€â–„â–„â–€â–€

      Æ¬á•¼á•® â†ã€‡ã€‡á–‡ á–‡á•®â²˜á—©á“°ÆâŸ† ã—ã€‡á‘•ğŒŠá•®á—ª.`)
    );
  }
  console.log(
    chalk.red(
      "\n      áƒ„ã€‡â‹ƒ Ô²á—©á“°ã—á•®â† Æ¬ã€‡ á¶â‹ƒá•®âŸ†âŸ† Æ¬á•¼á•® Æá‘Œâ²˜á—·á•®á–‡. Æ¬á•¼á•® â†ã€‡ã€‡á–‡ á–‡á•®â²˜á—©á“°ÆâŸ† ã—ã€‡á‘•ğŒŠá•®â†."
    )
  );
  return false; // Indicate failure
}

module.exports = playNumberGuessingGame; // Export the function for use in other files
