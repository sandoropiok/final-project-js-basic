const { Select } = require("enquirer");
const chalk = require("chalk");

function playRockPaperScissors() {
  const choices = [" ï¼²ï¼¯ï¼£ï¼«", "  ï¼°ï¼¡ï¼°ï¼°ï¼¥ï¼²", "scissors"];
  const computerChoice = choices[Math.floor(Math.random() * 3)];

  console.log(
    chalk.yellow(
      "\n   ï¼´ï¼¯ ï¼°ï¼²ï¼¯ï¼£ï¼¥ï¼¥ï¼¤ï¼Œ ï¼¢ï¼¥ï¼¡ï¼´ ï¼´ï¼¨ï¼¥ ï¼¤ï¼µï¼®ï¼§ï¼¥ï¼¯ï¼® ï¼§ï¼µï¼¡ï¼²ï¼¤ ï¼©ï¼® ï¼²ï¼¯ï¼£ï¼«ï¼Œ ï¼°ï¼¡ï¼°ï¼¥ï¼²ï¼Œ ï¼³ï¼£ï¼©ï¼³ï¼³ï¼¯ï¼²ï¼³ï¼"
    )
  );
  const prompt = new Select({
    name: "playerChoice",
    message: chalk.cyan(
      `\n      ï¼£ï¼¨ï¼¯ï¼¯ï¼³ï¼¥ ï¼²ï¼¯ï¼£ï¼«ï¼Œ ï¼°ï¼¡ï¼°ï¼¥ï¼² ï¼¯ï¼² ï¼³ï¼£ï¼©ï¼³ï¼³ï¼¯ï¼²ï¼³ï¼š `
    ),
    choices: choices,
  });

  prompt
    .run()
    .then((playerChoice) => {
      console.log(
        chalk.yellow(
          `\n      You chose ${playerChoice}, and the guard chose ${computerChoice}.`
        )
      );

      if (playerChoice === computerChoice) {
        console.log(
          chalk.yellow(`
          â”³â”â”³â”“â•¹â”â”“  â”â”“  â”â”³â”“â”³â”â”“â•»  â”â”³â”“â”³â”“â”“â”  â”â”“â”â”“â”â”“â”³â”³â”“ 
          â”ƒ â”ƒ  â”—â”“  â”£â”«   â”ƒ â”ƒâ”£ â”ƒ   â”ƒ â”£â”«â”—â”«  â”£â”«â”ƒâ”“â”£â”«â”ƒâ”ƒâ”ƒ 
          â”» â”»  â”—â”›  â”›â”—   â”» â”»â”—â”›â€¢   â”» â”›â”—â”—â”›  â”›â”—â”—â”›â”›â”—â”»â”›â”—â€¢
        
      áƒ„ã€‡á‘Œ á•¼á—©â‹Žá•® ã€‡Æá•® â²˜ã€‡á–‡á•® á™…á•¼á—©Æá‘•á•®â—`)
        );
        return playRockPaperScissors();
      } else if (
        (playerChoice === " ï¼²ï¼¯ï¼£ï¼«" && computerChoice === "scissors") ||
        (playerChoice === "paper" && computerChoice === " ï¼²ï¼¯ï¼£ï¼«") ||
        (playerChoice === "scissors" && computerChoice === "paper")
      ) {
        console.log(
          chalk.green(`
          â–‘â–ˆâ”€â”€â–‘â–ˆ â–‘â–ˆâ–€â–€â–€â–ˆ â–‘â–ˆâ”€â–‘â–ˆ ã€€ â–‘â–ˆâ”€â”€â–‘â–ˆ â–€â–ˆâ–€ â–‘â–ˆâ–„â”€â–‘â–ˆ â–ˆ 
          â–‘â–ˆâ–„â–„â–„â–ˆ â–‘â–ˆâ”€â”€â–‘â–ˆ â–‘â–ˆâ”€â–‘â–ˆ ã€€ â–‘â–ˆâ–‘â–ˆâ–‘â–ˆ â–‘â–ˆâ”€ â–‘â–ˆâ–‘â–ˆâ–‘â–ˆ â–€ 
          â”€â”€â–‘â–ˆâ”€â”€ â–‘â–ˆâ–„â–„â–„â–ˆ â”€â–€â–„â–„â–€ ã€€ â–‘â–ˆâ–„â–€â–„â–ˆ â–„â–ˆâ–„ â–‘â–ˆâ”€â”€â–€â–ˆ â–„

      Æ¬á•¼á•® â†ã€‡ã€‡á–‡ â‹ƒÆã—ã€‡á™…ðŒŠâŸ†, áŽ¶ã€‡ã€‡á—ª ã—â‹ƒá‘•ðŒŠ á“®Æ Æá•®â²¬Æ¬ á–‡ã€‡ã€‡â²˜â—`)
        );
        return true;
      } else {
        console.log(
          chalk.red(` 
          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
          â–ˆâ–„â”€â–ˆâ”€â–„â–ˆâ”€â–„â–„â”€â–ˆâ–„â”€â–ˆâ–ˆâ”€â–„â–ˆâ–ˆâ–ˆâ–„â”€â–„â–ˆâ–ˆâ–ˆâ”€â–„â–„â”€â–ˆâ”€â–„â–„â–„â–„â–ˆâ”€â–„â”€â–„â”€â–ˆâ–‘â–ˆ
          â–ˆâ–ˆâ–„â”€â–„â–ˆâ–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â–ˆâ–ˆâ–€â–ˆâ”€â–ˆâ–ˆâ”€â–ˆâ–„â–„â–„â–„â”€â–ˆâ–ˆâ–ˆâ”€â–ˆâ–ˆâ–ˆâ–„â–ˆ
          â–€â–€â–„â–„â–„â–€â–€â–„â–„â–„â–„â–€â–€â–„â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â–„â–„â–€â–„â–„â–„â–„â–€â–„â–„â–„â–„â–„â–€â–€â–„â–„â–„â–€â–€â–„â–€
        
      Æ¬á•¼á•® â†ã€‡ã€‡á–‡ ã—ã€‡á‘•ðŒŠá•®á—ª Ô²ã€‡á–‡á•®â‹Žá•®á–‡â—`)
        );
        return playRockPaperScissors();
      }
    })
    .catch((error) => {
      console.error("An error occurred:", error);
    });
}

module.exports = playRockPaperScissors;
